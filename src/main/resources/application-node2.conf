akka {
  loglevel = "INFO"

  actor {
    provider = cluster

    serialization-bindings {
      "com.diplomatic.messages.CborSerializable" = jackson-cbor
    }

    allow-java-serialization = on
    warn-about-java-serializer-usage = off
  }

  remote {
    artery {
      canonical {
        hostname = "127.0.0.1"
        port = 2552
      }
    }
  }

  cluster {
    # BOTH nodes must be in seed-nodes
    seed-nodes = [
      "akka://DiplomaticAssistantSystem@127.0.0.1:2551",
      "akka://DiplomaticAssistantSystem@127.0.0.1:2552"
    ]

    roles = ["intelligence", "backend"]

    downing-provider-class = "akka.cluster.sbr.SplitBrainResolverProvider"

    # Allow cluster to form with just one node initially
    min-nr-of-members = 1
  }
}

diplomatic-assistant {
  node-role = "intelligence"
  llm-timeout-seconds = 30
  max-concurrent-llm-requests = 10
}
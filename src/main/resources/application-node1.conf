akka {
  loglevel = "INFO"

  actor {
    provider = cluster  # CLUSTER MODE - Required for project

    serialization-bindings {
      "com.diplomatic.messages.CborSerializable" = jackson-cbor
    }
  }

  # Remote configuration for Node 1 (Infrastructure)
  remote {
    artery {
      canonical {
        hostname = "127.0.0.1"
        port = 2551
      }
    }
  }

  # Cluster configuration
  cluster {
    seed-nodes = [
      "akka://DiplomaticAssistantSystem@127.0.0.1:2551",
      "akka://DiplomaticAssistantSystem@127.0.0.1:2552"
    ]

    # Roles for this node
    roles = ["infrastructure", "frontend"]

    # Downing provider for handling network partitions
    downing-provider-class = "akka.cluster.sbr.SplitBrainResolverProvider"

    # Cluster shutdown after inactivity (for testing)
    shutdown-after-unsuccessful-join-seed-nodes = 30s

    # Minimum number of members before cluster is considered UP
    min-nr-of-members = 2
  }
}

# Application-specific configuration
diplomatic-assistant {
  node-role = "infrastructure"
  session-timeout-minutes = 30
  max-active-sessions = 100
}